services:
  enigma-bbs:
    build: .
    container_name: ENiGMABBS
    tty: true
    restart: unless-stopped
    ports:
      - "8888:8888"
    volumes:
      - ./config:/enigma-bbs/config
      - ./db:/enigma-bbs/db
      - ./logs:/enigma-bbs/logs
      - ./filebase:/enigma-bbs/filebase
      - ./art:/enigma-bbs/art
      - ./mods:/enigma-bbs/mods
      - ./mail:/enigma-bbs/mail
      - ./doors:/enigma-bbs/doors
    networks:
      - bbsnet
    depends_on:
      - gameserver

  gameserver:
    build: ./gameserver
    container_name: GameServer
    hostname: gameserver
    tty: true
    restart: unless-stopped
    networks:
      - bbsnet
    ports:
      - "10513:513"
      - "10023:23"

networks:
  bbsnet:
    driver: bridge